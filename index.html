<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>GW-BASIC Local (js-dos v8)</title>
  <link rel="stylesheet" href="jsdos/js-dos.css">
  <style>
    body, html { margin:0; height:100%; background:#000; }
    #dosbox { width:100%; height:90%; }
    #kbdBtn { width:100%; height:10%; font-size:18px; }
  </style>
</head>
<body>
  <canvas id="dosbox"></canvas>
  <button id="kbdBtn">Show Virtual Keyboard</button>

  <script src="jsdos/js-dos.js"></script>
  <script>
    const canvas = document.getElementById("dosbox");

    (async () => {
      const dos = await DosFactory(canvas, {
        url: "basic.zip"
      });

      // Launch gwbasic
      dos.main([
        "-c", "mount c .",
        "-c", "c:",
        "-c", "cd gwbasic",
        "-c", "gwbasic"
      ]);

      // keep reference for later
      window.ci = dos.ci;
    })();

    // Button to show virtual keyboard
    document.getElementById("kbdBtn").addEventListener("click", () => {
      if (window.ci) {
        window.ci.showKeyboard(true);
      }
    });
  </script>
</body>
</html>
